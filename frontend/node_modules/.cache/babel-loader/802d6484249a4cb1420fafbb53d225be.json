{"ast":null,"code":"const BASEAPI = 'http://alunos.b7web.com.br:501/';\n\nconst apiFetchPost = async (endpoint, body) => {\n  const res = await fetch(BASEAPI + endpoint, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  });\n  const json = await res.json();\n\n  if (json.notallowed) {\n    window.location.href = '/login';\n  }\n\n  return json;\n};\n\nconst AmorinhaAPI = {\n  login: async (email, password) => {\n    const jason = await apiFetchPost('/user/signin', {\n      email,\n      password\n    });\n    return jason;\n  }\n};\nexport default (() => AmorinhaAPI);","map":{"version":3,"sources":["/home/jael/Dropbox/devinhouse/front/react/amorinha/frontend/src/helpers/AmorinhaAPI.js"],"names":["BASEAPI","apiFetchPost","endpoint","body","res","fetch","method","headers","JSON","stringify","json","notallowed","window","location","href","AmorinhaAPI","login","email","password","jason"],"mappings":"AAAA,MAAMA,OAAO,GAAG,iCAAhB;;AAEA,MAAMC,YAAY,GAAG,OAAOC,QAAP,EAAiBC,IAAjB,KAA0B;AAC3C,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAACL,OAAO,GAACE,QAAT,EAAmB;AACtCI,IAAAA,MAAM,EAAC,MAD+B;AAEtCC,IAAAA,OAAO,EAAC;AACJ,gBAAU,kBADN;AAEJ,sBAAgB;AAFZ,KAF8B;AAMtCJ,IAAAA,IAAI,EAACK,IAAI,CAACC,SAAL,CAAeN,IAAf;AANiC,GAAnB,CAAvB;AASA,QAAMO,IAAI,GAAG,MAAMN,GAAG,CAACM,IAAJ,EAAnB;;AAEA,MAAIA,IAAI,CAACC,UAAT,EAAoB;AAChBC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,QAAvB;AACH;;AAED,SAAOJ,IAAP;AACH,CAjBD;;AAmBA,MAAMK,WAAW,GAAG;AAChBC,EAAAA,KAAK,EAAC,OAAOC,KAAP,EAAcC,QAAd,KAA2B;AAC7B,UAAMC,KAAK,GAAG,MAAMlB,YAAY,CAC5B,cAD4B,EAE5B;AAACgB,MAAAA,KAAD;AAAQC,MAAAA;AAAR,KAF4B,CAAhC;AAIA,WAAOC,KAAP;AACH;AAPe,CAApB;AAUA,gBAAe,MAAMJ,WAArB","sourcesContent":["const BASEAPI = 'http://alunos.b7web.com.br:501/';\n\nconst apiFetchPost = async (endpoint, body) => {\n    const res = await fetch(BASEAPI+endpoint, {\n        method:'POST',\n        headers:{\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body:JSON.stringify(body)\n    });\n\n    const json = await res.json();\n\n    if (json.notallowed){\n        window.location.href = '/login'\n    }\n\n    return json;\n}\n\nconst AmorinhaAPI = {\n    login:async (email, password) => {\n        const jason = await apiFetchPost(\n            '/user/signin',\n            {email, password}\n        );\n        return jason;\n    }\n};\n\nexport default () => AmorinhaAPI;"]},"metadata":{},"sourceType":"module"}